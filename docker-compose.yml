services:
  filebrowser:
    image: filebrowser/filebrowser
    container_name: filebrowser
    
    ports:
      - "8080:80" 
      
    environment:
      # PUID/PGID and TZ from .env are required for host permission enforcement
      - PUID=$SAMBA_PUID
      - PGID=$SAMBA_PGID
      - TZ=$TZ
    
    volumes:
      # Persistence for FileBrowser's configuration, database, and user settings
      - /home/tinman/docker/filebrowser/config:/config
      
      # CRITICAL: Map your NAS disks to paths inside the container
      - $HOST_DISK_1_PATH:/srv/Disk_1_Shared:rw
      - $HOST_DISK_2_PATH:/srv/Disk_2_Private:rw
      - /:/srv/ 
      
    # 1. Reference the network the service should join
    networks:
      - app_net

    restart: unless-stopped

networks:
  app_net:
    external: true
